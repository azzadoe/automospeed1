import{G as j}from"./constants.dnzd2kuo.js";import{k as R,l as B,v as I,w as N,j as D,u as w,i as U,f as P}from"./index.lqcu3hi3.js";import{C as V}from"./Card.nubn9etl.js";import{C as F}from"./Tabs.nyi4b4w1.js";import{C as W}from"./SeoSiteAnalysisResults.g3ja1wyw.js";import{g as E,v as r,o as i,c as S,C as a,b as f,a as s,t as p,F as q,J as Y,k as T,l as m,x as L,w as J,f as K,y as Q,u as d,E as X,G as Z}from"./runtime-dom.esm-bundler.h3clfjuw.js";import{p as $}from"./popup.by9shv56.js";import{u as G}from"./SeoSiteScore.b9jx09ef.js";import{C as ee}from"./Blur.mu93d3e2.js";import{C as oe}from"./Index.fks290qy.js";import{S as se}from"./Book.f6lktglp.js";import{S as te}from"./Lab.etdhkx39.js";import"./translations.e22mvhfh.js";import{_ as H}from"./_plugin-vue_export-helper.oebm7xum.js";import{_,s as x}from"./default-i18n.bz7purh4.js";import{C as ne}from"./Tooltip.i4md1nj9.js";import{S as re}from"./Refresh.mu9plox9.js";import{a as ae}from"./index.cw7tfyil.js";import"./cleanForSlug.etvx808q.js";import"./Caret.g6s6s7gs.js";import"./Slide.dop8j51m.js";import"./vue-router.eypfdvl5.js";import"./ProBadge.e32os6n3.js";import"./Information.djrr3pec.js";import"./Tags.lgcgntse.js";import"./GoogleSearchPreview.iw4vtoyb.js";import"./Gear.dx9icaxx.js";import"./params.k8e95b6q.js";const O="all-in-one-seo-pack",ie={setup(l){const{errorObject:y,strings:g}=G({score:E(l.score)});return{analyzerStore:R(),composableStrings:g,errorObject:y,links:B}},components:{CoreSiteScore:oe,SvgBook:se,SvgDannieLab:te},props:{score:Number,loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:I({yourOverallSiteScore:_("Your Overall Site Score",O),goodResult:x(_("A very good score is between %1$s%3$d and %4$d%2$s.",O),"<strong>","</strong>",50,75),forBestResults:x(_("For best results, you should strive for %1$s%3$d and above%2$s.",O),"<strong>","</strong>",70),readUltimateSeoGuide:_("Read the Ultimate WordPress SEO Guide",O)},this.composableStrings)}}},le={class:"aioseo-seo-analysis"},ce={key:0,class:"seo-analysis-score"},ue={key:1,class:"seo-analysis-description"},de=["innerHTML"],me=["innerHTML"],_e={class:"d-flex"},pe=["href"],ge={key:2,class:"seo-analysis-error"},ye={class:"error-title"},Se=["innerHTML"],he={class:"error-action-buttons"};function fe(l,y,g,e,c,t){const k=r("core-site-score"),n=r("svg-book"),z=r("svg-dannie-lab"),v=r("base-button");return i(),S("div",le,[e.analyzerStore.analyzeError?f("",!0):(i(),S("div",ce,[a(k,{loading:g.loading,score:g.score,description:g.description,strokeWidth:1.75},null,8,["loading","score","description"])])),e.analyzerStore.analyzeError?f("",!0):(i(),S("div",ue,[s("h2",null,p(c.strings.yourOverallSiteScore),1),s("div",{innerHTML:c.strings.goodResult},null,8,de),s("div",{innerHTML:c.strings.forBestResults},null,8,me),s("div",_e,[a(n),s("a",{href:e.links.getDocUrl("ultimateGuide"),target:"_blank"},p(c.strings.readUltimateSeoGuide),9,pe)])])),e.analyzerStore.analyzeError&&e.errorObject?(i(),S("div",ge,[a(z),s("p",ye,p(c.strings.anErrorOccurred),1),s("p",{class:"error-description",innerHTML:e.errorObject.description},null,8,Se),s("div",he,[(i(!0),S(q,null,Y(e.errorObject.buttons,(o,b)=>(i(),T(v,{key:b,type:o.type,tag:o.tag?o.tag:"button",target:"_blank",href:o.url?o.url:"",size:"medium",loading:(o==null?void 0:o.runAgain)&&e.analyzerStore.analyzing,onClick:A=>o!=null&&o.runAgain?e.analyzerStore.runSiteAnalyzer():""},{default:m(()=>[L(p(o.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):f("",!0)])}const M=H(ie,[["render",fe]]),Ce={class:"aioseo-seo-site-score"},ke={key:1,class:"aioseo-seo-site-score-cta"},ze={__name:"Analyze",setup(l){const y=E(0),{connectWithAioseo:g,description:e,strings:c}=G({score:y}),t=R(),k=N(),n=D(),z=w();J(()=>n.internalOptions.internal.siteAnalysis.score,u=>{y.value=u});const v=K(()=>({recommended:t.recommendedCount(),critical:t.criticalCount(),good:t.goodCount()})),o=u=>{$(u,g,600,630,!0,["token"],b,A)},b=u=>k.saveConnectToken(u.token),A=u=>{u&&t.runSiteAnalyzer(),t.analyzing=!0};return Q(()=>{!n.internalOptions.internal.siteAnalysis.score&&n.internalOptions.internal.siteAnalysis.connectToken&&(t.analyzing=!0,t.runSiteAnalyzer()),y.value=n.internalOptions.internal.siteAnalysis.score}),(u,C)=>(i(),S("div",Ce,[d(n).internalOptions.internal.siteAnalysis.connectToken?f("",!0):(i(),T(d(ee),{key:0},{default:m(()=>[a(d(M),{score:85,description:d(e)},null,8,["description"])]),_:1})),d(n).internalOptions.internal.siteAnalysis.connectToken?f("",!0):(i(),S("div",ke,[s("a",{href:"#",onClick:C[0]||(C[0]=X(Re=>o(d(z).aioseo.urls.connect),["prevent"]))},p(d(g)),1),L(" "+p(d(c).toSeeYourSiteScore),1)])),d(n).internalOptions.internal.siteAnalysis.connectToken?(i(),T(d(M),{key:2,score:y.value,description:d(e),loading:u.analyzing,summary:v.value},null,8,["score","description","loading","summary"])):f("",!0)]))}},h="all-in-one-seo-pack",ve={setup(){return{analyzerStore:R(),licenseStore:U(),optionsStore:D(),rootStore:w(),settingsStore:P()}},components:{CoreCard:V,CoreMainTabs:F,CoreSeoSiteAnalysisResults:W,CoreSeoSiteScoreAnalyze:ze,CoreTooltip:ne,SvgCircleQuestionMark:ae,SvgRefresh:re},data(){return{internalDebounce:!1,strings:{completeSeoChecklist:_("Complete SEO Checklist",h),refreshResults:_("Refresh Results",h),cardDescription:_("These are the results our SEO Analzyer has generated after analyzing the homepage of your website.",h)+" "+B.getDocLink(j.learnMore,"seoAnalyzer",!0)}}},computed:{tabs(){const l=this.optionsStore.internalOptions.internal.siteAnalysis;return[{slug:"all-items",label:_("All Items",h),analyze:{classColor:"black",count:l.score?this.analyzerStore.allItemsCount():0}},{slug:"critical",label:_("Important Issues",h),analyze:{classColor:"red",count:l.score?this.analyzerStore.criticalCount():0}},{slug:"recommended-improvements",label:_("Recommended Improvements",h),analyze:{classColor:"blue",count:l.score?this.analyzerStore.recommendedCount():0}},{slug:"good-results",label:_("Good Results",h),analyze:{classColor:"green",count:l.score?this.analyzerStore.goodCount():0}}]}},methods:{processChangeTab(l){this.internalDebounce||(this.internalDebounce=!0,this.settingsStore.changeTab({slug:"seoAuditChecklist",value:l}),setTimeout(()=>{this.internalDebounce=!1},50))},refresh(){this.analyzerStore.analyzing=!0,this.analyzerStore.runSiteAnalyzer({refresh:!0})}}},be={class:"aioseo-seo-audit-checklist"},Ae=["innerHTML"],Oe={class:"label"};function Te(l,y,g,e,c,t){const k=r("core-seo-site-score-analyze"),n=r("core-card"),z=r("svg-circle-question-mark"),v=r("core-tooltip"),o=r("svg-refresh"),b=r("base-button"),A=r("core-main-tabs"),u=r("core-seo-site-analysis-results");return i(),S("div",be,[a(n,{slug:"connectOrScore","hide-header":"","no-slide":"",toggles:!1},{default:m(()=>[a(k)]),_:1}),(e.rootStore.isPro&&e.licenseStore.licenseKey||e.optionsStore.internalOptions.internal.siteAnalysis.connectToken)&&e.optionsStore.internalOptions.internal.siteAnalysis.score?(i(),T(n,{key:0,slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:m(()=>[s("span",null,p(c.strings.completeSeoChecklist),1),a(v,null,{tooltip:m(()=>[s("span",{innerHTML:c.strings.cardDescription},null,8,Ae)]),default:m(()=>[a(z)]),_:1})]),"header-extra":m(()=>[a(b,{class:"refresh-results",type:"gray",size:"small",onClick:t.refresh,loading:e.analyzerStore.analyzing},{default:m(()=>[a(o),L(" "+p(c.strings.refreshResults),1)]),_:1},8,["onClick","loading"])]),tabs:m(()=>[a(A,{tabs:t.tabs,showSaveButton:!1,active:e.settingsStore.settings.internalTabs.seoAuditChecklist,internal:"",onChanged:t.processChangeTab,"skinny-tabs":""},{"var-tab":m(({tab:C})=>[s("span",{class:Z(["round",C.analyze.classColor])},p(C.analyze.count||0),3),s("span",Oe,p(C.label),1)]),_:1},8,["tabs","active","onChanged"])]),default:m(()=>[a(u,{section:e.settingsStore.settings.internalTabs.seoAuditChecklist,"all-results":e.analyzerStore.getSiteAnalysisResults,"show-instructions":""},null,8,["section","all-results"])]),_:1})):f("",!0)])}const to=H(ve,[["render",Te]]);export{to as default};
